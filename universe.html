<!doctype html>
<html lang="en" data-lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>FutureFunds — Analyst Universe</title>

<link rel="stylesheet" href="/assets/styles.css"/>

<style>
  :root {
    --card-bg: var(--panel, #ffffff);
    --card-border: var(--border, #e2e8f0);
    --card-shadow: var(--shadow, 0 12px 30px rgba(15, 23, 42, 0.08));
  }

  .wrap { max-width: 1200px; margin: 32px auto; padding: 0 18px; }
  .hero { padding: 32px 0 12px; margin-top: 18px; }
  .hero h1 { margin: 0 0 10px; font-size: clamp(2rem, 4vw, 2.6rem); }
  .hero p { margin: 0; color: var(--muted, #64748b); max-width: 720px; }

  .universe-shell { display: grid; gap: 24px; }

  .gate { border: 1px solid var(--card-border); border-radius: 18px; padding: 32px; background: var(--card-bg); text-align: center; box-shadow: var(--card-shadow); }
  .gate h2 { margin: 0 0 12px; }
  .gate p { margin: 0 0 16px; color: var(--muted, #64748b); }
  .gate .actions { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }

  .controls-card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 18px; padding: 20px; display: grid; gap: 16px; box-shadow: var(--card-shadow); }
  .controls-grid { display: flex; flex-wrap: wrap; gap: 14px; align-items: center; }
  .controls-grid label { font-size: 0.85rem; font-weight: 600; color: var(--muted, #64748b); }
  .controls-grid select, .controls-grid input[type="search"] { min-width: 220px; padding: 10px 14px; border-radius: 12px; border: 1px solid var(--card-border); background: var(--bg, #f8fafc); font-size: 0.95rem; }
  .controls-grid button { padding: 10px 16px; border-radius: 999px; border: 1px solid var(--card-border); background: var(--card-bg); cursor: pointer; font-size: 0.9rem; }
  .controls-grid button.primary { background: var(--accent, #2563eb); border-color: var(--accent, #2563eb); color: #fff; }
  .controls-grid button.primary:hover { filter: brightness(1.05); }

  .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(190px, 1fr)); gap: 16px; }
  .metric-card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 16px; padding: 18px; box-shadow: var(--card-shadow); display: grid; gap: 6px; }
  .metric-label { font-size: 0.8rem; letter-spacing: 0.04em; text-transform: uppercase; color: var(--muted, #64748b); }
  .metric-value { font-size: 1.6rem; font-weight: 600; }
  .metric-sub { font-size: 0.85rem; color: var(--muted, #64748b); }

  .filters-card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 18px; padding: 16px 20px; box-shadow: var(--card-shadow); display: grid; gap: 14px; }
  .chip-row { display: flex; flex-wrap: wrap; gap: 10px; }
  .chip { border-radius: 999px; border: 1px solid var(--card-border); padding: 8px 14px; background: var(--bg, #f8fafc); cursor: pointer; font-size: 0.85rem; display: inline-flex; align-items: center; gap: 6px; }
  .chip[data-active="true"] { background: color-mix(in srgb, var(--accent, #2563eb) 18%, var(--card-bg) 82%); border-color: var(--accent, #2563eb); color: var(--accent-contrast, #0f172a); }
  .chip-count { font-variant-numeric: tabular-nums; font-weight: 600; }
  .filters-card select { min-width: 200px; padding: 8px 12px; border-radius: 12px; border: 1px solid var(--card-border); background: var(--bg, #f8fafc); font-size: 0.9rem; }

  .table-card { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 18px; box-shadow: var(--card-shadow); overflow: hidden; }
  table { width: 100%; border-collapse: collapse; }
  th, td { padding: 14px 16px; border-bottom: 1px solid var(--card-border); vertical-align: top; }
  thead th { position: sticky; top: 70px; background: var(--bg, #f8fafc); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.06em; color: var(--muted, #64748b); z-index: 5; }
  tbody tr:hover { background: color-mix(in srgb, var(--accent, #2563eb) 6%, var(--card-bg) 94%); }
  .ticker-cell { font-weight: 600; font-size: 1rem; }
  .ticker-meta { font-size: 0.85rem; color: var(--muted, #64748b); margin-top: 2px; }
  .stage-badge { display: inline-flex; align-items: center; gap: 6px; border-radius: 999px; padding: 4px 10px; font-size: 0.75rem; border: 1px solid currentColor; text-transform: uppercase; letter-spacing: 0.05em; }
  .stage-0 { color: #64748b; }
  .stage-1 { color: #0ea5e9; }
  .stage-2 { color: #6366f1; }
  .stage-3 { color: #16a34a; }
  .label-pill { display: inline-flex; align-items: center; gap: 6px; border-radius: 999px; padding: 4px 10px; background: color-mix(in srgb, var(--accent, #2563eb) 12%, var(--card-bg) 88%); color: var(--accent-contrast, #0f172a); font-size: 0.8rem; font-weight: 600; }
  .score-stack { display: grid; gap: 4px; font-size: 0.85rem; }
  .score-stack span { display: flex; justify-content: space-between; gap: 8px; font-variant-numeric: tabular-nums; }
  .summary-cell { font-size: 0.9rem; line-height: 1.4; }
  .summary-cell p { margin: 0 0 4px; }
  .summary-cell small { color: var(--muted, #64748b); }
  .dimension-pill-stack { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 6px; }
  .dimension-pill { display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; border-radius: 999px; font-size: 0.75rem; font-weight: 600; border: 1px solid color-mix(in srgb, var(--dimension-color, #475569) 35%, transparent); background: color-mix(in srgb, var(--dimension-color, #475569) 12%, var(--card-bg) 88%); color: var(--dimension-color, #0f172a); }
  .dimension-pill strong { font-weight: 700; }
  .dimension-pill[data-tone="bad"] { --dimension-color: #ef4444; color: #7f1d1d; }
  .dimension-pill[data-tone="neutral"] { --dimension-color: #f59e0b; color: #92400e; }
  .dimension-pill[data-tone="good"] { --dimension-color: #22c55e; color: #065f46; }
  .actions-cell { display: grid; gap: 8px; }
  .actions-cell a { text-decoration: none; color: var(--accent, #2563eb); font-weight: 600; }
  .actions-cell a:hover { text-decoration: underline; }

  .table-empty { padding: 40px 16px; text-align: center; color: var(--muted, #64748b); }

  .table-footer { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; }
  .table-footer button { padding: 10px 18px; border-radius: 999px; border: 1px solid var(--card-border); background: var(--card-bg); cursor: pointer; font-size: 0.9rem; }
  .table-footer button[disabled] { opacity: 0.4; cursor: not-allowed; }
  .status-text { font-size: 0.85rem; color: var(--muted, #64748b); }

  @media (max-width: 900px) {
    thead { display: none; }
    table, tbody, tr, td { display: block; width: 100%; }
    tr { border-bottom: 1px solid var(--card-border); }
    td { border-bottom: none; padding: 12px 16px; }
    .actions-cell { justify-content: flex-start; }
    .table-footer { flex-direction: column; gap: 12px; align-items: stretch; }
  }
</style>
</head>
<body>
<header class="site-header">
  <a class="brand" href="/">
    <img src="/images/logo.webp" alt="FutureFunds.ai logo" class="logo" />
    <span>FutureFunds.ai</span>
  </a>
  <button class="nav-toggle" id="navToggle" type="button" aria-expanded="false" aria-controls="siteNav">
    <span class="sr-only">Menu</span>
    <span class="nav-toggle__bar"></span>
  </button>
  <nav class="nav" id="siteNav" aria-label="Primary navigation">
    <div class="nav-links">
      <div class="nav-item nav-item--team">
        <a href="/team.html" class="nav-link" data-i18n="nav.team">Experiment</a>
      </div>
      <div class="nav-item nav-item--has-panel nav-item--tools">
        <a href="/tools.html" class="nav-link" data-i18n="nav.investmentTools">Investment Tools</a>
        <div class="nav-panel nav-panel--tools" role="group" aria-label="Investment tools">
          <div class="nav-panel__header">
            <span class="nav-panel__title">Featured tools</span>
            <a class="nav-panel__cta" href="/tools.html">Explore tools →</a>
          </div>
          <div class="nav-panel__content nav-panel__content--tools">
            <a class="nav-tool" href="/tool.html?id=ff-pms">
              <span class="chip membership">Member</span>
              <h4>Portfolio OS</h4>
              <p>Run strategies end-to-end with sheets + AI copilots.</p>
            </a>
            <a class="nav-tool" href="/tool.html?id=stockalpha-journal">
              <span class="chip free">Free</span>
              <h4>StockAlpha Journal</h4>
              <p>Track theses, catalysts, and behavioral loops.</p>
            </a>
            <a class="nav-tool" href="/tool.html?id=valuebot">
              <span class="chip paid">Paid</span>
              <h4>ValueBot Valuation</h4>
              <p>Get sourced, step-by-step valuations on demand.</p>
            </a>
          </div>
        </div>
      </div>
      <div class="nav-item nav-item--has-panel nav-item--ai">
        <a href="/ai-economy.html" class="nav-link" data-i18n="nav.aiEconomy">The AI Economy</a>
        <div class="nav-panel nav-panel--ai" role="group" aria-label="AI economy preview">
          <div class="nav-panel__header">
            <span class="nav-panel__title">AI economy brief</span>
            <a class="nav-panel__cta" href="/ai-economy.html">Dive in →</a>
          </div>
          <div class="nav-ai">
            <p class="nav-ai__pitch">Weekly signals on how automation, capital, and policy collide. Built from filings, expert transcripts, and on-chain data.</p>
            <form class="nav-ai__signup newsletter-form" action="/ai-economy.html#newsletter" method="get">
              <label class="sr-only" for="nav-ai-email">Email address</label>
              <input id="nav-ai-email" type="email" name="email" placeholder="you@example.com" autocomplete="email" />
              <button type="submit" class="btn primary">Get the brief</button>
              <p class="nav-ai__status newsletter-status muted" aria-live="polite"></p>
            </form>
          </div>
        </div>
      </div>
      <a href="/portfolio.html" class="nav-link" data-i18n="nav.portfolios">Portfolios</a>
      <a href="/universe.html" class="nav-link active" data-i18n="nav.universe">Universe</a>
    </div>
    <div class="nav-actions">
      <button id="langBtn" class="btn small">EN ▾</button>
      <button id="themeToggle" class="btn small ghost theme-toggle" aria-label="Toggle theme">
        <span class="theme-toggle__icon" aria-hidden="true">🌗</span>
        <span class="theme-toggle__label" data-i18n="nav.themeToggle">Theme</span>
      </button>
      <a id="membershipLogin" class="btn danger" href="/membership.html" data-i18n="cta.membership">Membership</a>
    </div>
  </nav>
</header>

<section class="wrap hero">
  <h1>Automated Analyst Universe</h1>
  <p>Inspect the latest multi-stage equity runs. Filter by stage, label, or sector, export reports, and jump into full dossiers for any ticker.</p>
</section>

<main class="wrap universe-shell">
  <section id="gate" class="gate" hidden>
    <h2>Members-only research cockpit</h2>
    <p>This dashboard exposes raw pipeline outputs and costs. Please sign in with an analyst or admin account to continue.</p>
    <div class="actions">
      <a class="btn primary" href="/login.html">Sign in</a>
      <a class="btn" href="/membership.html">Request access</a>
    </div>
  </section>

  <section id="universeContent" hidden>
    <div class="controls-card">
      <div class="controls-grid">
        <label for="runSelect">Run</label>
        <select id="runSelect"></select>
        <label for="q" class="sr-only">Search tickers</label>
        <input id="q" type="search" placeholder="Search tickers or names…" autocomplete="off" />
        <button id="refreshBtn" type="button">Refresh</button>
        <button id="exportCsvBtn" type="button">Export CSV</button>
        <button id="copyJsonBtn" type="button">Copy JSON</button>
      </div>
    </div>

    <div class="metrics">
      <article class="metric-card" data-metric="tickers">
        <span class="metric-label">Universe size</span>
        <span class="metric-value" id="metricTickers">—</span>
        <span class="metric-sub" id="metricTickersSub">Pending update…</span>
      </article>
      <article class="metric-card" data-metric="go-deep">
        <span class="metric-label">Go-deep approvals</span>
        <span class="metric-value" id="metricGoDeep">—</span>
        <span class="metric-sub" id="metricGoDeepSub">Stage 2 verdicts</span>
      </article>
      <article class="metric-card" data-metric="reports">
        <span class="metric-label">Deep-dive reports</span>
        <span class="metric-value" id="metricReports">—</span>
        <span class="metric-sub" id="metricReportsSub">Stage 3 completions</span>
      </article>
      <article class="metric-card" data-metric="spend">
        <span class="metric-label">Spend (USD)</span>
        <span class="metric-value" id="metricSpend">—</span>
        <span class="metric-sub" id="metricSpendSub">Across all stages</span>
      </article>
    </div>

    <div class="filters-card">
      <div>
        <strong>Stage</strong>
        <div class="chip-row" id="stageFilters">
          <button type="button" class="chip" data-stage="" data-active="true">All</button>
          <button type="button" class="chip" data-stage="1">Stage 1</button>
          <button type="button" class="chip" data-stage="2">Stage 2</button>
          <button type="button" class="chip" data-stage="3">Stage 3</button>
        </div>
      </div>
      <div>
        <strong>Label</strong>
        <div class="chip-row" id="labelFilters">
          <button type="button" class="chip" data-label="" data-active="true">All</button>
          <button type="button" class="chip" data-label="consider">Consider</button>
          <button type="button" class="chip" data-label="borderline">Borderline</button>
          <button type="button" class="chip" data-label="uninvestible">Uninvestible</button>
        </div>
      </div>
      <div>
        <strong>Go deep</strong>
        <div class="chip-row" id="goDeepFilters">
          <button type="button" class="chip" data-go="" data-active="true">All</button>
          <button type="button" class="chip" data-go="true">Approved</button>
          <button type="button" class="chip" data-go="false">Not approved</button>
        </div>
      </div>
      <div>
        <label for="sectorSelect"><strong>Sector</strong></label>
        <select id="sectorSelect">
          <option value="">All sectors</option>
        </select>
      </div>
    </div>

    <div class="table-card">
      <table aria-live="polite">
        <thead>
          <tr>
            <th scope="col">Ticker</th>
            <th scope="col">Stage</th>
            <th scope="col">Label</th>
            <th scope="col">Stage 2 scores</th>
            <th scope="col">Deep dive summary</th>
            <th scope="col">Spend</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody id="tableBody">
          <tr><td class="table-empty" colspan="7">Select a run to load the universe.</td></tr>
        </tbody>
      </table>
      <div class="table-footer">
        <button id="loadMoreBtn" type="button">Load more</button>
        <span class="status-text" id="tableStatus">—</span>
      </div>
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-col footer-about">
      <a class="brand" href="/">
        <img src="/images/logo.webp" alt="FutureFunds.ai logo" class="logo" />
        <span>FutureFunds.ai</span>
      </a>
      <p class="muted">Researching how AI can run the investment process in public. Educational only.</p>
    </div>

    <div class="footer-col footer-links">
      <h3 class="footer-heading">Explore</h3>
      <ul class="footer-links-list">
        <li><a href="/team.html">Experiment</a></li>
        <li><a href="/tools.html">Investment Tools</a></li>
        <li><a href="/ai-economy.html">The AI Economy</a></li>
        <li><a href="/portfolio.html">Portfolios</a></li>
        <li><a href="/blog.html">Commentary</a></li>
      </ul>
    </div>

    <div class="footer-col footer-links">
      <h3 class="footer-heading">Legal &amp; Access</h3>
      <ul class="footer-links-list">
        <li><a href="/disclaimer.html">Disclaimer &amp; Disclosures</a></li>
        <li><a href="/membership.html">Membership</a></li>
        <li><a href="/login.html">Member Login</a></li>
        <li><a href="/editor.html">Editor (admin)</a></li>
      </ul>
    </div>

    <div class="footer-col footer-newsletter">
      <h3 class="footer-heading">Stay in the loop</h3>
      <p class="muted">Sign up for updates on new research drops and product releases.</p>
      <form class="newsletter-form" novalidate>
        <label class="sr-only" for="newsletter-email">Email address</label>
        <input id="newsletter-email" type="email" name="email" placeholder="you@example.com" autocomplete="email" required />
        <button type="submit" class="btn primary">Join the list</button>
      </form>
      <p class="newsletter-status muted" aria-live="polite"></p>
    </div>
  </div>

  <div class="footer-bottom">
    <small>© <span id="year"></span> FutureFunds.ai. Educational experiment. Not investment advice.</small>
    <div class="footer-legal">
      <a href="/disclaimer.html">Disclaimer</a>
      <a href="/sitemap.xml">Sitemap</a>
      <a href="/editor.html">Editor</a>
    </div>
  </div>
</footer>

<script src="/assets/app.js" defer></script>
<script src="/assets/i18n.js" defer></script>
<script src="/assets/paywall.js" defer></script>
<script type="module" src="/assets/auth.js"></script>
<script type="module" src="/assets/universe.js"></script>
</body>
</html>
