:root{
  --bg:#0b1020; --card:#121733; --text:#e9ecf8; --muted:#a7b0d0;
  --accent:#5af; --accent2:#78f; --ok:#31d0a3; --warn:#f6b73c; --danger:#ff6b6b;
  --maxw:1100px; --radius:14px;
  --page-bg: linear-gradient(180deg,#0b1020,#0e1430);
}

/* Reset / base */
*{box-sizing:border-box}
html,body{
  margin:0;
  padding:0;
  background: var(--page-bg);
  color:var(--text);
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  min-height:100%;
}

body{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  overflow-x:hidden;
}

main{flex:1 0 auto;width:100%;}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* Layout containers */
.container{max-width:var(--maxw);margin:auto;padding:2rem}
.container.narrow{max-width:820px}

/* Header / Footer */
.site-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:1rem 2rem;
  border-bottom:1px solid #1a2147;
  position:relative;
  z-index:40;
}
.site-footer{
  margin-top:auto;
  padding:2.5rem 2rem;
  border-top:1px solid var(--border,#1a2147);
  background:var(--page-bg);
  background:color-mix(in srgb, var(--page-bg) 70%, #050a1a 30%);
  display:flex;
  flex-direction:column;
  gap:2rem;
}
.site-footer > *{
  width:100%;
  max-width:var(--maxw);
  margin:0 auto;
}
.footer-inner{
  display:flex;
  flex-wrap:wrap;
  gap:2.5rem;
  align-items:flex-start;
}
.footer-col{
  flex:1 1 220px;
  min-width:200px;
}
.footer-about p{
  margin:.75rem 0 0;
  color:var(--muted);
}
.footer-heading{
  margin:0 0 .75rem;
  font-size:1rem;
  font-weight:600;
  letter-spacing:.02em;
  text-transform:uppercase;
  color:var(--muted);
}
.footer-links-list{
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  gap:.45rem;
}
.footer-links-list a{color:var(--text)}
.footer-links-list a:hover,
.footer-links-list a:focus-visible{color:var(--accent)}
.footer-newsletter p{margin:.5rem 0 0}
.newsletter-form{
  margin-top:.75rem;
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  align-items:center;
}
.newsletter-form input[type="email"]{
  flex:1 1 220px;
  min-width:220px;
  padding:.6rem .75rem;
  border-radius:10px;
  border:1px solid var(--border,#1a2147);
  background:color-mix(in srgb, var(--card) 92%, #000 8%);
  color:var(--text);
}
.newsletter-form input[type="email"]::placeholder{color:color-mix(in srgb, var(--muted) 80%, #fff 20%)}
.newsletter-status{
  margin-top:.5rem;
  font-size:.85rem;
  color:var(--muted);
}
.newsletter-status[data-tone="error"]{color:var(--danger)}
.newsletter-status[data-tone="success"]{color:var(--ok)}
.footer-bottom{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  color:var(--muted);
  font-size:.9rem;
  padding-top:1.25rem;
  border-top:1px solid color-mix(in srgb, var(--border,#1a2147) 60%, transparent 40%);
}
.footer-bottom a{color:inherit}
.footer-bottom a:hover,
.footer-bottom a:focus-visible{color:var(--accent)}
.footer-legal{
  display:flex;
  gap:.75rem;
  flex-wrap:wrap;
}
.brand{display:flex;gap:.6rem;align-items:center;font-weight:700}
.brand img{width:36px;height:36px;display:block}
.brand span{font-weight:700;font-size:1.05rem}
.nav{
  display:flex;
  align-items:center;
  gap:1.75rem;
  margin-left:auto;
}
.nav-links{
  display:flex;
  align-items:center;
  gap:.25rem;
}
.nav-actions{
  display:flex;
  align-items:center;
  gap:.65rem;
}
.nav-link{
  position:relative;
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  padding:.35rem .5rem;
  border-radius:9px;
  color:var(--text);
}
.nav-link:hover,
.nav-link:focus-visible{
  text-decoration:none;
  background:color-mix(in srgb, var(--card) 78%, rgba(90,170,255,.35) 22%);
}
.nav-link::after{
  content:"";
  width:9px;
  height:9px;
  border-right:1.5px solid currentColor;
  border-bottom:1.5px solid currentColor;
  transform:rotate(45deg);
  opacity:.55;
  transition:transform .2s ease, opacity .2s ease;
}
.nav-links> a.nav-link::after{display:none}
.nav-item:not(.nav-item--has-panel) .nav-link::after{display:none}
.nav-item--has-panel:focus-within>.nav-link::after,
.nav-item--has-panel:hover>.nav-link::after{transform:rotate(225deg);opacity:.95}
.nav a.active{color:#cfe;text-decoration:underline}

.nav-panel{
  position:absolute;
  top:calc(100% + 1rem);
  left:50%;
  transform:translateX(-50%);
  min-width:320px;
  max-width:520px;
  padding:1.25rem 1.4rem;
  background:color-mix(in srgb, var(--card) 92%, #020512 8%);
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 80%, transparent 20%);
  border-radius:16px;
  box-shadow:0 26px 60px rgba(5,10,32,.48);
  color:var(--text);
  opacity:0;
  visibility:hidden;
  pointer-events:none;
  transition:opacity .18s ease, transform .18s ease;
  transform-origin:top center;
  z-index:30;
}
.nav-panel::before{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  transform:translateX(-50%);
  width:18px;
  height:18px;
  background:color-mix(in srgb, var(--card) 92%, #020512 8%);
  border-left:1px solid color-mix(in srgb, var(--border,#1a2147) 80%, transparent 20%);
  border-top:1px solid color-mix(in srgb, var(--border,#1a2147) 80%, transparent 20%);
  transform-origin:center;
  rotate:45deg;
  border-radius:3px;
}
.nav-item--has-panel{position:relative;}
.nav-item--has-panel:hover>.nav-panel,
.nav-item--has-panel:focus-within>.nav-panel{
  opacity:1;
  visibility:visible;
  pointer-events:auto;
  transform:translateX(-50%) translateY(-4px);
}
.nav-panel__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:1rem;
  margin-bottom:1rem;
}
.nav-panel__title{
  font-size:1rem;
  font-weight:600;
  letter-spacing:.04em;
  text-transform:uppercase;
  color:var(--muted);
}
.nav-panel__cta{
  font-size:.9rem;
  color:var(--accent);
}
.nav-panel__content{display:grid;gap:.8rem;}
.nav-panel__content--team{grid-template-columns:repeat(2,minmax(160px,1fr));}
.nav-card{
  display:flex;
  flex-direction:column;
  gap:.35rem;
  padding:.85rem;
  border-radius:12px;
  background:color-mix(in srgb, var(--card) 88%, #050b1c 12%);
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 65%, transparent 35%);
  transition:border-color .2s ease, transform .2s ease;
  color:var(--text);
  text-decoration:none;
}
.nav-card:hover,
.nav-card:focus-visible{
  border-color:color-mix(in srgb, var(--accent) 65%, var(--border,#1a2147) 35%);
  text-decoration:none;
  transform:translateY(-2px);
}
.nav-card__name{margin:0;font-size:1.05rem;font-weight:600;color:var(--text);}
.nav-card__role{margin:0;color:var(--muted);font-size:.9rem;line-height:1.4;}
.nav-panel__content--tools{grid-template-columns:repeat(3,minmax(140px,1fr));}
.nav-tool{
  display:flex;
  flex-direction:column;
  gap:.4rem;
  padding:.85rem;
  border-radius:12px;
  background:color-mix(in srgb, var(--card) 86%, #060b1e 14%);
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 60%, transparent 40%);
  color:var(--text);
  text-decoration:none;
  transition:border-color .2s ease, transform .2s ease;
}
.nav-tool h4{margin:0;font-size:1rem;color:var(--text);}
.nav-tool p{margin:0;color:var(--muted);font-size:.9rem;}
.nav-tool .chip{display:inline-flex;align-items:center;padding:.1rem .5rem;border-radius:999px;font-size:.75rem;letter-spacing:.02em;}
.nav-tool:hover,
.nav-tool:focus-visible{
  border-color:color-mix(in srgb, var(--accent) 65%, var(--border,#1a2147) 35%);
  text-decoration:none;
  transform:translateY(-2px);
}
.nav-ai{
  display:grid;
  gap:.8rem;
}
.nav-ai__pitch{margin:0;color:var(--muted);line-height:1.5;}
.nav-ai__signup{
  display:flex;
  gap:.5rem;
  flex-wrap:wrap;
  align-items:center;
}
.nav-ai__signup input[type="email"]{
  flex:1 1 200px;
  min-width:200px;
  padding:.55rem .75rem;
  border-radius:10px;
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 70%, transparent 30%);
  background:color-mix(in srgb, var(--card) 92%, #010312 8%);
  color:var(--text);
}
.nav-ai__signup button{flex:0 0 auto;}
.nav-ai__signup .newsletter-status{
  flex:1 1 100%;
  margin:0;
  margin-top:.35rem;
  font-size:.8rem;
}

.nav-toggle{
  display:none;
  margin-left:auto;
  width:42px;
  height:42px;
  border:1px solid #2c3b7a;
  border-radius:10px;
  background:transparent;
  color:var(--text);
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:border-color .2s ease, background .2s ease;
}

.nav-toggle:hover{border-color:var(--accent);}
.nav-toggle__bar{
  position:relative;
  width:18px;
  height:2px;
  background:currentColor;
  transition:background .2s ease;
}
.nav-toggle__bar::before,
.nav-toggle__bar::after{
  content:"";
  position:absolute;
  left:0;
  width:100%;
  height:2px;
  background:currentColor;
  transition:transform .2s ease, top .2s ease;
}
.nav-toggle__bar::before{top:-6px;}
.nav-toggle__bar::after{top:6px;}
body.nav-open .nav-toggle__bar{background:transparent;}
body.nav-open .nav-toggle__bar::before{top:0;transform:rotate(45deg);}
body.nav-open .nav-toggle__bar::after{top:0;transform:rotate(-45deg);}

/* Buttons */
.btn{
  display:inline-block;
  border:1px solid #2c3b7a;
  padding:.55rem .9rem;
  border-radius:10px
}
.btn.small{padding:.35rem .6rem;font-size:.9rem}
.btn.primary{
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  color:#050a1a;
  border:none
}
.btn.ghost{background:transparent}
.btn.theme-toggle{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
}
.btn.theme-toggle .theme-toggle__icon{
  font-size:1.05em;
  line-height:1;
}
.btn.theme-toggle .theme-toggle__label{
  font-size:.85em;
}

body.theme-dark .btn.theme-toggle{
  color:#8ab4ff;
  border-color:rgba(138,180,255,.5);
  background:rgba(138,180,255,.1);
}
body.theme-dark .btn.theme-toggle:hover{
  background:rgba(138,180,255,.18);
  border-color:rgba(138,180,255,.7);
}

/* Hero (base) */
.hero{
  padding:6rem 2rem;
  text-align:center;
  background:radial-gradient(1200px 400px at 50% -50%, #2030a0 0%, transparent 70%)
}
.hero h1{font-size:clamp(2rem,3.6vw,3rem);margin:.2rem 0 1rem}
.hero p{color:var(--muted);max-width:780px;margin:auto}
.hero-ctas{display:flex;gap:.75rem;justify-content:center;margin:1.2rem 0}
.hero-note{display:block;color:#9bb;opacity:.9;margin-top:.6rem}

/* Hero: experiment-first */
.hero--experiment{padding-top:7rem;padding-bottom:5rem}
.badge{
  display:inline-block;font-weight:700;letter-spacing:.6px;
  background:#0e1a52;border:1px solid #26358a;color:#bcd;
  padding:.25rem .6rem;border-radius:999px;margin-bottom:1rem
}
/* thin gradient line + kicker above question */
.hero-divider{
  display:flex; align-items:center; justify-content:center;
  gap:.75rem; margin:.5rem auto 1rem; max-width:900px;
}
.hero-divider::before, .hero-divider::after{
  content:""; height:1px; flex:1;
  background:linear-gradient(90deg, transparent, #32408f, transparent);
}
.kicker{
  text-transform:uppercase; letter-spacing:.12em; font-size:.78rem; color:#b7c2ff;
  white-space:nowrap;
}
/* centered headline + sub */
.hero-question{
  font-size:clamp(2.4rem,6vw,4.2rem);
  line-height:1.2;
  margin:0 auto 1rem;
  max-width:800px;
  text-align:center;
}
.hero-sub{
  max-width:700px;
  margin:.5rem auto 0;
  text-align:center;
}
.gating-note{opacity:.85;margin-left:.25rem}

/* Hero layout refresh */
.hero-layout{
  display:flex;
  flex-direction:column;
  gap:2.75rem;
  margin:2.5rem auto 0;
  max-width:min(1080px,100%);
  text-align:left;
}
.hero-copy{
  display:flex;
  flex-direction:column;
  gap:1.4rem;
  align-items:center;
  text-align:center;
}
.hero-copy .hero-question{
  text-align:center;
  margin:0 auto 1rem;
}
.hero-copy .hero-sub{
  margin:0.75rem auto 1.5rem;
  text-align:center;
}
.hero-copy .chips{
  justify-content:center;
}
.hero-copy .hero-ctas{
  justify-content:center;
  flex-wrap:wrap;
}
.hero-copy .hero-ctas .btn{
  flex:0 0 auto;
}
.hero-insights{
  display:grid;
  gap:1.2rem;
}
.hero-highlight{
  display:flex;
  gap:1rem;
  align-items:flex-start;
  padding:1rem 1.2rem;
  border:1px solid rgba(67,95,198,.45);
  border-radius:var(--radius);
  background:color-mix(in srgb,var(--card) 88%,#1c2d7f 12%);
  box-shadow:0 14px 28px rgba(9,16,46,.35);
}
.hero-highlight__icon{
  display:grid;
  place-items:center;
  width:2.4rem;
  height:2.4rem;
  font-size:1.35rem;
  border-radius:50%;
  background:linear-gradient(135deg,#3548c4,#3f80ff);
  color:#f5fbff;
  flex:0 0 auto;
}
.hero-highlight__text h3{
  margin:.1rem 0 .3rem;
  font-size:1.05rem;
}
.hero-panel{
  display:flex;
  flex-direction:column;
  gap:1.1rem;
  background:color-mix(in srgb,var(--card) 86%,#112259 14%);
  border-color:color-mix(in srgb,#627dff 32%,#1a2147 68%);
  box-shadow:0 22px 46px rgba(5,11,32,.48);
}
.hero-panel h3{
  margin:0;
  font-size:1.35rem;
}
.hero-panel__list{
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  gap:.75rem;
}
.hero-panel__list li{
  position:relative;
  padding-left:1.6rem;
  line-height:1.55;
}
.hero-panel__list li::before{
  content:"★";
  position:absolute;
  left:0;
  top:.15rem;
  color:#76a7ff;
}
.hero-price{
  display:flex;
  align-items:baseline;
  gap:.7rem;
  color:color-mix(in srgb,var(--muted) 70%,#fff 30%);
}
.hero-price__value{
  font-size:1.9rem;
  font-weight:700;
  color:#e7edff;
}
.hero-price__label{
  font-weight:600;
  letter-spacing:.02em;
}
.hero-panel .btn{
  width:100%;
  text-align:center;
}

@media (max-width: 720px){
  .hero-layout{
    margin-top:2rem;
  }
  .hero-copy .hero-ctas{
    justify-content:center;
  }
  .hero-panel{
    text-align:left;
  }
}

@media (min-width: 900px){
  .hero-insights{
    grid-template-columns:repeat(3,minmax(0,1fr));
    align-items:stretch;
  }
  .hero-panel{
    grid-column:1/-1;
    display:grid;
    grid-template-columns:repeat(12,1fr);
    padding:1.4rem 1.6rem 1.6rem;
    column-gap:1.4rem;
  }
  .hero-panel h3{
    grid-column:1/span 6;
  }
  .hero-panel > .muted{
    grid-column:7/span 6;
  }
  .hero-panel__list{
    grid-column:1/span 7;
  }
  .hero-price{
    justify-content:flex-end;
    grid-column:8/span 3;
    align-self:end;
  }
  .hero-panel .btn{
    grid-column:11/span 2;
    justify-self:end;
    align-self:end;
    width:auto;
  }
}

/* Grid / Cards */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:1rem;
  margin-top:1rem
}
.card{
  background:var(--card);
  border:1px solid #1a2147;
  border-radius:var(--radius);
  padding:1.1rem;
  position:relative;
  overflow:hidden
}
.card h3{margin:.2rem 0 .35rem}

.perks-list{
  list-style:none;
  margin:1rem 0;
  padding:0;
  display:grid;
  gap:.6rem
}
.perks-list li{
  position:relative;
  padding-left:1.6rem;
  line-height:1.55
}
.perks-list li::before{
  content:"✓";
  position:absolute;
  left:0;
  top:.15rem;
  font-weight:700;
  color:var(--ok)
}

.membership-offer{padding-top:0}
.membership-callout{
  display:grid;
  gap:1rem;
  background:color-mix(in srgb,var(--card) 92%,#1b2b6a 8%);
  border-color:color-mix(in srgb,#5af 32%,#1a2147 68%);
  box-shadow:0 18px 40px rgba(5,11,32,.45)
}
.membership-callout h2{
  margin:0;
  font-size:1.8rem;
  letter-spacing:.01em
}
.membership-callout > .muted{margin:0;max-width:52ch}
.membership-footer{
  display:grid;
  gap:.85rem
}
.membership-price{
  margin:0;
  font-weight:600;
  color:color-mix(in srgb,var(--muted) 80%,#fff 20%)
}
.membership-ctas{
  display:flex;
  gap:.75rem;
  flex-wrap:wrap
}
.membership-ctas .btn{
  flex:1 1 220px;
  text-align:center
}

/* Chips / status */
.chips{display:flex;gap:.4rem;flex-wrap:wrap;margin:.5rem 0}
.chip{
  font-size:.78rem;
  border:1px solid #2c3b7a;
  border-radius:999px;
  padding:.2rem .55rem;
  color:#cfe
}
.chip.free{border-color:var(--ok)}
.chip.membership{border-color:var(--warn)}
.chip.paid{border-color:var(--danger)}
.lock{position:absolute;top:10px;right:10px;font-size:1.1rem;opacity:.9}
.coming{
  position:absolute;inset:0;background:rgba(0,0,0,.45);
  display:grid;place-items:center;color:#fff;font-weight:700;letter-spacing:.5px
}

/* Tables / misc */
.table{
  width:100%;
  border-collapse:collapse;
  background:var(--card);
  border:1px solid #1a2147;
  border-radius:var(--radius);
  overflow:hidden
}
.table th,.table td{padding:.6rem .75rem;border-bottom:1px solid #1a2147}
.table tr:last-child td{border-bottom:none}
.muted{color:var(--muted)}
.backlink{display:inline-block;margin:1rem 0}
.note-box{
  background:#0e1536;border:1px solid #28306a;border-radius:var(--radius);
  padding:1rem;margin-top:1rem
}

/* Focus questions */
.focus-panel{
  margin-top:1.75rem;
  background:var(--card);
  border:1px solid var(--border,#1a2147);
  border-radius:var(--radius);
  padding:1.5rem;
  display:grid;
  gap:1.25rem;
}

.focus-panel__header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:1rem;
}

.focus-panel__header h3{margin:0;font-size:1.15rem}
.focus-panel__header p{margin:.25rem 0 0;color:var(--muted)}

.focus-panel__actions{display:flex;align-items:center;gap:.75rem}
.focus-panel__status{font-size:.85rem;color:var(--muted)}

.focus-form{display:grid;gap:1rem}
.focus-form__grid{display:grid;grid-template-columns:minmax(180px,220px) 1fr;gap:1rem;align-items:start}
.focus-form__grid label{display:grid;gap:.4rem}
.focus-form__custom textarea{width:100%;resize:vertical}
.focus-form__footer{display:flex;align-items:center;gap:.75rem}

.focus-status{font-size:.85rem;color:var(--muted)}
.focus-status[data-tone="success"]{color:var(--ok)}
.focus-status[data-tone="warn"]{color:var(--warn)}

.focus-templates{
  display:grid;
  gap:.6rem;
  max-height:230px;
  overflow:auto;
  padding:.75rem;
  background:#0f1534;
  border:1px solid #1d2450;
  border-radius:var(--radius);
}

.focus-template{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:.35rem .65rem;
  align-items:flex-start;
  padding:.45rem .6rem;
  background:rgba(18,27,60,.75);
  border:1px solid transparent;
  border-radius:var(--radius);
  transition:border-color .15s ease,background .15s ease;
}

.focus-template:hover,
.focus-template:focus-within{border-color:#2f3d7a;background:rgba(22,32,70,.9)}

.focus-template input{margin-top:.2rem}
.focus-template__title{font-weight:600;font-size:.9rem}
.focus-template__question{grid-column:1/-1;font-size:.85rem;color:var(--muted)}

.focus-list__header{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:.75rem}
.focus-list__count{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:2.4rem;
  height:2.4rem;
  padding:0 .55rem;
  border-radius:999px;
  border:1px solid #1d2450;
  background:rgba(20,32,70,.7);
  font-weight:600;
}

.focus-table{
  width:100%;
  border-collapse:collapse;
  background:var(--card);
  border:1px solid #1a2147;
  border-radius:var(--radius);
  overflow:hidden;
}

.focus-table th,
.focus-table td{padding:.6rem .75rem;border-bottom:1px solid #1a2147;vertical-align:top}
.focus-table tbody tr:last-child td{border-bottom:none}

.focus-table td[data-status="answered"]{color:var(--ok)}
.focus-table td[data-status="failed"],
.focus-table td[data-status="cancelled"]{color:var(--warn)}

.focus-question{max-width:26rem;font-size:.9rem}

@media(max-width:900px){
  .focus-form__grid{grid-template-columns:1fr}
}

/* Video embeds */
.video{margin:1rem 0;border-radius:12px;overflow:hidden;border:1px solid #1a2147}
.video iframe{display:block;width:100%;height:400px}

/* ======= Portfolio styles (hub + detail) ======= */
.locked-card{position:relative}
.locked-card img{width:100%;display:block;filter:blur(6px);opacity:.7}
.locked-overlay{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.45);color:#fff;font-weight:700;letter-spacing:.3px
}
.portfolio-thumb{background:#0f1640;border:1px solid #1a2147;border-radius:12px;overflow:hidden}
.statline{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:.5rem;color:#a7b0d0}
.statline span{
  background:#121a48;border:1px solid #223070;border-radius:999px;
  padding:.15rem .5rem;font-size:.85rem
}
.stats{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:.75rem;margin:1rem 0
}
.stats .label{color:#a7b0d0;font-size:.85rem;display:block}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:1rem}
@media(max-width:700px){.two-col{grid-template-columns:1fr}}

/* Footer tweaks on small screens */
@media(max-width:900px){
  .nav-toggle{display:inline-flex;}
  .site-header{
    position:sticky;
    top:0;
    background:var(--page-bg);
    padding:0.9rem 1.2rem;
    border-bottom:1px solid var(--border,#1a2147);
  }
  .site-footer{padding:2rem 1.5rem;}
  .nav{
    position:absolute;
    top:calc(100% + 0.75rem);
    right:1.2rem;
    left:1.2rem;
    display:flex;
    flex-direction:column;
    align-items:stretch;
    gap:1rem;
    padding:0.9rem;
    background:var(--card);
    border:1px solid var(--border,#1a2147);
    border-radius:14px;
    box-shadow:0 18px 42px rgba(4,8,20,.5);
    max-height:calc(100vh - 5.5rem);
    overflow:auto;
    -webkit-overflow-scrolling:touch;
    opacity:0;
    visibility:hidden;
    pointer-events:none;
    transform:translateY(-6px);
    transition:opacity .2s ease, transform .2s ease;
  }
  .nav.open{
    opacity:1;
    visibility:visible;
    pointer-events:auto;
    transform:translateY(0);
  }
  .nav-links,
  .nav-actions{
    display:flex;
    flex-direction:column;
    align-items:stretch;
    gap:.45rem;
  }
  .nav-link{
    width:100%;
    justify-content:space-between;
    padding:.55rem .65rem;
    border-radius:10px;
  }
  .nav-link::after{display:none;}
  .nav .btn{width:100%;text-align:center;}
  .nav-item--has-panel>.nav-panel{display:none !important;}
  body.nav-open{overflow:hidden;}
}

@media(max-width:700px){
  .container{padding:1.75rem 1.25rem;}
  .hero{padding:4.5rem 1.5rem;}
  .hero-ctas{flex-direction:column;gap:.65rem;}
  .hero-ctas .btn{width:100%;text-align:center;}
  .footer-inner{flex-direction:column;gap:2rem;}
  .footer-col{min-width:0;}
  .newsletter-form{flex-direction:column;align-items:stretch;}
  .newsletter-form input[type="email"]{min-width:0;}
.newsletter-form input[type="email"],
  .newsletter-form button{width:100%;}
  .footer-bottom{flex-direction:column;align-items:flex-start;}
}

/* ===========================
   AI Economy Newsletter Page
   =========================== */

.newsletter-page{display:flex;flex-direction:column;gap:0;}

.newsletter-hero{
  position:relative;
  padding:5rem 0 4.5rem;
  background:radial-gradient(circle at top right, rgba(90,170,255,.12), transparent 55%),
             radial-gradient(circle at bottom left, rgba(120,140,255,.1), transparent 60%),
             color-mix(in srgb, var(--page-bg) 80%, #050b20 20%);
}

.newsletter-hero__inner{
  display:grid;
  gap:3rem;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  align-items:start;
}

.newsletter-eyebrow{
  display:inline-block;
  font-size:.85rem;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--muted);
  margin:0 0 1rem;
}

.newsletter-hero h1{
  font-size:clamp(2.25rem, 2.5vw + 1.9rem, 3.15rem);
  margin:0 0 1rem;
}

.newsletter-lead{
  font-size:1.15rem;
  color:color-mix(in srgb, var(--text) 85%, #fff 15%);
  margin:0 0 1.75rem;
}

.newsletter-hero__highlights{
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  gap:1rem;
}

.newsletter-hero__highlights li{
  padding-left:1.75rem;
  position:relative;
  color:color-mix(in srgb, var(--text) 82%, #fff 18%);
}

.newsletter-hero__highlights li::before{
  content:"";
  position:absolute;
  left:0;
  top:.5rem;
  width:10px;
  height:10px;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 0 4px rgba(90,170,255,.18);
}

.newsletter-hero__card{
  background:color-mix(in srgb, var(--card) 90%, #0b1020 10%);
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 80%, transparent 20%);
  border-radius:18px;
  padding:2rem;
  box-shadow:0 24px 42px rgba(5,10,25,.35);
}

.newsletter-hero__card h2{
  margin:0 0 1.25rem;
  font-size:1.35rem;
}

.newsletter-form--stacked{
  flex-direction:column;
  align-items:stretch;
}

.newsletter-form--stacked input[type="email"],
.newsletter-form--stacked button{
  width:100%;
  min-width:0;
}

.newsletter-privacy{
  margin:1rem 0 0;
  font-size:.85rem;
  color:var(--muted);
}

.newsletter-latest{
  padding:4rem 0;
  background:color-mix(in srgb, var(--page-bg) 88%, #0f1535 12%);
  border-top:1px solid color-mix(in srgb, var(--border,#1a2147) 50%, transparent 50%);
  border-bottom:1px solid color-mix(in srgb, var(--border,#1a2147) 50%, transparent 50%);
}

.newsletter-latest__meta{
  font-size:.9rem;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
}

.newsletter-latest h2{
  margin:.75rem 0 1rem;
  font-size:clamp(1.8rem, 2vw + 1.4rem, 2.4rem);
}

.newsletter-latest__summary{margin:0 0 2rem;color:color-mix(in srgb, var(--text) 90%, #fff 10%);}

.newsletter-latest__list{
  list-style:none;
  margin:0 0 2.5rem;
  padding:0;
  display:grid;
  gap:1rem;
}

.newsletter-latest__list li{
  background:color-mix(in srgb, var(--card) 85%, #060c26 15%);
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 70%, transparent 30%);
  border-radius:14px;
  padding:1rem 1.25rem;
  box-shadow:0 12px 30px rgba(4,10,24,.25);
}

.newsletter-latest__list strong{color:#cfe;}

.newsletter-latest__cta{
  display:flex;
  flex-wrap:wrap;
  gap:1rem;
}

.newsletter-value{
  padding:4.5rem 0;
}

.newsletter-value h2{
  text-align:center;
  margin:0 0 3rem;
  font-size:clamp(2rem, 1.6vw + 1.6rem, 2.6rem);
}

.newsletter-value__grid{
  display:grid;
  gap:1.5rem;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
}

.newsletter-value__item{
  background:color-mix(in srgb, var(--card) 88%, #0b122d 12%);
  border-radius:16px;
  padding:1.75rem;
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 65%, transparent 35%);
  box-shadow:0 18px 32px rgba(4,8,22,.28);
}

.newsletter-value__item h3{margin:0 0 .75rem;font-size:1.15rem;}
.newsletter-value__item p{margin:0;color:color-mix(in srgb, var(--text) 88%, #fff 12%);}

.newsletter-archive{
  padding:4rem 0 4.5rem;
}

.newsletter-archive__header h2{
  margin:0 0 .5rem;
  font-size:clamp(1.9rem, 1.5vw + 1.5rem, 2.4rem);
}

.newsletter-archive__grid{
  margin-top:2.5rem;
  display:grid;
  gap:1.5rem;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
}

.newsletter-archive__item{
  background:color-mix(in srgb, var(--card) 92%, #070d24 8%);
  border-radius:16px;
  padding:1.5rem;
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 70%, transparent 30%);
  display:flex;
  flex-direction:column;
  gap:.75rem;
  box-shadow:0 14px 26px rgba(5,9,22,.26);
}

.newsletter-archive__meta{
  font-size:.85rem;
  text-transform:uppercase;
  letter-spacing:.1em;
  color:var(--muted);
}

.newsletter-archive__item h3{margin:0;font-size:1.2rem;}
.newsletter-archive__item p{margin:0;color:color-mix(in srgb, var(--text) 88%, #fff 12%);}

.archive-link{
  margin-top:auto;
  font-weight:600;
  color:var(--accent);
  display:inline-flex;
  align-items:center;
  gap:.4rem;
}

.archive-link::after{
  content:"→";
  font-size:1rem;
}

.newsletter-proof{
  padding:4.5rem 0 5rem;
  background:radial-gradient(circle at center, rgba(49,208,163,.1), transparent 60%);
}

.newsletter-proof__grid{
  display:grid;
  gap:2rem;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  align-items:stretch;
}

.newsletter-proof__stat,
.newsletter-proof__testimonial{
  background:color-mix(in srgb, var(--card) 88%, #081027 12%);
  border-radius:18px;
  padding:2rem;
  border:1px solid color-mix(in srgb, var(--border,#1a2147) 70%, transparent 30%);
  box-shadow:0 20px 32px rgba(3,10,26,.32);
}

.newsletter-proof__number{
  display:block;
  font-size:2.75rem;
  font-weight:700;
  color:var(--ok);
  margin:0 0 .75rem;
}

.newsletter-proof__stat p{margin:0;color:color-mix(in srgb, var(--text) 88%, #fff 12%);}

.newsletter-proof__testimonial blockquote{
  margin:0 0 1.25rem;
  font-size:1.1rem;
  line-height:1.6;
  color:color-mix(in srgb, var(--text) 92%, #fff 8%);
}

.newsletter-proof__testimonial cite{
  font-style:normal;
  color:var(--muted);
}

@media(max-width:900px){
  .newsletter-hero{padding:4rem 0 3.5rem;}
  .newsletter-hero__card{padding:1.75rem;}
}

@media(max-width:640px){
  .newsletter-latest__cta{flex-direction:column;}
  .newsletter-latest__cta .btn{width:100%;text-align:center;}
}

/* ===========================
   Universe Page Enhancements
   =========================== */

/* Shared table polish */
table.grid th, table.grid td {
  font-size: 14px;
  line-height: 1.45;
}
table.grid th {
  font-weight: 600;
  letter-spacing: 0.01em;
}
table.grid pre {
  background: var(--bg);
  border-radius: 8px;
  padding: 6px 8px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
}

/* Tags & chips */
.tag, .chip {
  transition: background .2s, border-color .2s;
}
.chip:hover, .tag:hover {
  border-color: var(--accent);
  background: rgba(26,115,232,.06);
}

/* Modal polish */
.modal {
  animation: modalPop .25s ease;
}
@keyframes modalPop {
  from { transform: translateY(16px) scale(.96); opacity: 0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

/* ===========================
   Theme Variants
   =========================== */

/* Site-wide light theme */
/* ===========================
   Theme Variants (2 themes)
   =========================== */

/* Dark (matches your current site look) */
body.theme-dark {
  --bg:#0b1020; 
  --card:#121733; 
  --text:#e9ecf8; 
  --muted:#a7b0d0;
  --accent:#5af; 
  --accent2:#78f; 
  --ok:#31d0a3; 
  --warn:#f6b73c; 
  --danger:#e63946;   /* logo red */
  --border:#1a2147;
  --shadow:0 12px 34px rgba(0,0,0,.55);
  --page-bg: linear-gradient(180deg,#0b1020,#0e1430);
}

/* Light */
body.theme-light {
  --bg:#f6f7fb; 
  --card:#ffffff; 
  --text:#0f172a; 
  --muted:#5a6777;
  --accent:#1a73e8; 
  --accent2:#27b9a0; 
  --ok:#22c55e; 
  --warn:#f6b73c; 
  --danger:#e63946;
  --border:#e6e9ee;
  --shadow:0 12px 34px rgba(2,10,30,.06);
  --page-bg: linear-gradient(180deg,#f6f7fb,#eef2f8);
}


/* ===== Logo tweaks ===== */
.logo {
  height: 40px;   /* try 48px if you want it taller */
  width: auto;
  display: block;
}
.brand {
  display: flex;
  gap: 0.6rem;
  align-items: center;
  font-weight: 700;
}
.brand span {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--text);
}

/* ===== Hero centering improvements ===== */
.hero--experiment {
  padding-top: 6rem;
  padding-bottom: 6rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 75vh; /* ensures vertical centering */
}
.hero-question {
  font-size: clamp(2.6rem, 5vw, 4rem);
  margin: 0 auto 1rem;
  line-height: 1.25;
}
.hero-sub {
  margin: 0.75rem auto 1.5rem;
  max-width: 700px;
  text-align: center;
}


.btn.danger {
  position: relative;
  z-index: 0;
  background: var(--danger, #e63946);
  color: #fff;
  border: none;
  font-weight: 600;
  transition: background .2s ease, transform .2s ease;
}

.btn.danger::before {
  content: "";
  position: absolute;
  inset: -4px;
  border: 1px solid var(--danger, #e63946);
  border-radius: inherit;
  pointer-events: none;
  z-index: -1;
}

.btn.danger:hover {
  background: #c92f3a;
  background: color-mix(in srgb, var(--danger, #e63946) 90%, #000 10%);
}

.btn.danger:focus-visible {
  outline: 2px solid rgba(230, 57, 70, 0.7);
  outline: 2px solid color-mix(in srgb, var(--danger, #e63946) 70%, #fff 30%);
  outline-offset: 4px;
}

/* ===========================
   Light Theme – Global Polish
   =========================== */

/* Softer borders + subtle depth */
body.theme-light .card,
body.theme-light .portfolio-thumb,
body.theme-light .video,
body.theme-light .note-box,
body.theme-light .table {
  border-color: var(--border);
  box-shadow: var(--shadow);
  background: var(--card);
}

/* Table grid lines */
body.theme-light .table th,
body.theme-light .table td {
  border-bottom-color: var(--border);
}

/* Site header/footer separators */
body.theme-light .site-header,
body.theme-light .site-footer {
  border-color: var(--border);
}

body.theme-light .newsletter-form input[type="email"]{
  background:var(--card);
  border-color:var(--border);
  color:var(--text);
}

body.theme-light .newsletter-form input[type="email"]::placeholder{
  color:color-mix(in srgb, var(--muted) 80%, #000 20%);
}

body.theme-light .footer-bottom{
  border-top-color:color-mix(in srgb, var(--border) 60%, transparent 40%);
}

/* Light theme navigation readability */
body.theme-light .nav a {
  color: var(--text);
}

body.theme-light .nav a:hover,
body.theme-light .nav a:focus-visible {
  color: color-mix(in srgb, var(--text) 85%, var(--accent) 15%);
}

body.theme-light .nav a.active,
body.theme-light .nav a.active:hover,
body.theme-light .nav a.active:focus-visible {
  color: var(--danger);
}

/* Default buttons look like soft pills in light mode */
body.theme-light .btn:not(.primary):not(.ghost):not(.danger) {
  background: var(--card);
  border-color: var(--border);
  box-shadow: var(--shadow);
}

body.theme-light .btn.primary {
  background: var(--danger);
  color: #fff;
  border: none;
  box-shadow: 0 10px 24px rgba(230, 57, 70, 0.25);
}

body.theme-light .btn.primary:hover {
  background: color-mix(in srgb, var(--danger) 90%, #000 10%);
}

body.theme-light .btn.primary:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--danger) 70%, #fff 30%);
  outline-offset: 4px;
}

body.theme-light .btn.danger {
  background: var(--danger);
  color: #fff;
  box-shadow: none;
}

body.theme-light .btn.danger:hover {
  background: #c92f3a;
  background: color-mix(in srgb, var(--danger) 90%, #000 10%);
}

/* Ghost buttons stay clean (outline only) */
body.theme-light .btn.ghost {
  background: transparent;
  border-color: var(--border);
  box-shadow: none;
}

/* Hero badge: lighter chip style in light mode */
body.theme-light .badge {
  background: color-mix(in oklab, var(--card), #fff 6%);
  border-color: var(--border);
  color: var(--text);
}

/* Chips / tags */
body.theme-light .chip,
body.theme-light .tag {
  border-color: var(--border);
  background: color-mix(in oklab, var(--card), #fff 4%);
}

/* “Support & Access” cards feel like real cards */
body.theme-light .grid .card {
  background: var(--card);
  border-color: var(--border);
  box-shadow: var(--shadow);
}

/* Misc borders previously hardcoded for dark */
body.theme-light .portfolio-thumb,
body.theme-light .locked-card,
body.theme-light .video,
body.theme-light .note-box {
  border-color: var(--border);
}

/* Muted, softer note box background */
body.theme-light .note-box{
  background: color-mix(in oklab, var(--card), #000 2%);
}

/* Statline pills get a light-friendly border/background */
body.theme-light .statline span{
  border-color: var(--border);
  background: color-mix(in oklab, var(--card), #fff 6%);
}

/* Table code blocks */
body.theme-light table.grid pre{
  background: color-mix(in oklab, var(--card), #000 2%);
}

/* ===== Gating overlay ===== */
[data-gated]{
  position: relative;
}
[data-gated].is-gated::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(246,247,251,0) 50%, rgba(246,247,251,.75));
  backdrop-filter: blur(2px);
  border-radius: inherit;
  pointer-events: all;
}
[data-gated].is-gated .gate-cta{
  display:flex;
}
.gate-cta{
  position:absolute; inset:auto 0 0 0;
  display:none; align-items:center; justify-content:center;
  padding:18px; gap:10px;
  background: rgba(255,255,255,.75);
  border-top: 1px solid var(--border, #e6e9ee);
  backdrop-filter: blur(3px);
}
.gate-cta__inner{
  width: min(520px, 100%);
  display: grid;
  gap: 12px;
  justify-items: center;
  text-align: center;
}
.gate-cta__inner strong{
  font-size: 1rem;
}
.gate-cta__inner p{
  margin: 0;
  font-size: .9rem;
  color: var(--muted, #475569);
}
.gate-cta__actions{
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
}
.theme-dark .gate-cta{ background: rgba(15,23,42,.6); }

/* ===== Auth modal ===== */
.auth-modal{position:fixed; inset:0; z-index:80; display:none}
.auth-modal.open{display:block}
.auth-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.45)}
.auth-card{
  position:relative; z-index:1; width:min(440px,92vw);
  margin:10vh auto; background:var(--card,#fff);
  border:1px solid var(--border,#e6e9ee); border-radius:16px; padding:22px 22px 26px;
  box-shadow: var(--shadow, 0 16px 40px rgba(2,10,30,.16));
}
.auth-head{margin-bottom:16px}
.auth-head h3{margin:.2rem 0 .2rem}
.auth-sub{margin:0;color:var(--muted,#64748b);font-size:.95rem}
.auth-close{position:absolute; top:12px; right:12px; background:transparent; border:0; font-size:1.1rem; cursor:pointer; color:var(--muted,#64748b)}
.auth-views{display:flex;flex-direction:column;gap:18px}
.auth-view{display:none}
.auth-view.active{display:block}
.auth-form{display:grid;gap:12px;margin:0}
.auth-label{display:grid;gap:4px;font-size:.9rem;color:var(--muted,#64748b)}
.auth-label span{font-weight:600;color:var(--text,#0f172a)}
.auth-form input{
  width:100%; padding:12px 14px; border-radius:12px;
  border:1px solid var(--border,#e6e9ee); background:var(--panel,#fff); color:var(--text,#0f172a);
}
.auth-submit{width:100%; margin-top:4px}
.auth-secondary{width:100%; text-align:center}
.auth-switch{margin:.2rem 0;font-size:.9rem;color:var(--muted,#64748b)}
.auth-switch a{color:var(--accent,#5af)}
.auth-msg{min-height:1.2rem;margin-top:8px;font-size:.9rem;color:var(--muted,#64748b)}
.auth-msg[data-tone="error"]{color:var(--danger,#ff6b6b)}
.auth-msg[data-tone="success"]{color:var(--ok,#31d0a3)}
.auth-benefits{
  margin-top:1.5rem;
  border:1px solid color-mix(in srgb,var(--border,#1a2147) 70%,#5af 30%);
  border-radius:12px;
  padding:1.2rem 1.3rem;
  background:color-mix(in srgb,var(--card,#121733) 94%,#1b2b6a 6%);
  display:grid;
  gap:.8rem
}
.auth-benefits .perks-list{margin:.3rem 0 .2rem;gap:.55rem}
.auth-benefits .perks-list li{padding-left:1.4rem}
.auth-benefits__title{margin:0;font-size:1.1rem}
.auth-benefits__intro{margin:0}
.auth-benefits__price{
  margin:0;
  font-weight:600;
  color:color-mix(in srgb,var(--muted,#64748b) 80%,#fff 20%)
}
.auth-benefits__actions{
  display:flex;
  flex-wrap:wrap;
  gap:.6rem
}
.auth-benefits__actions .btn{
  flex:1 1 160px;
  text-align:center
}
.auth-profile{display:grid;gap:14px}
.auth-welcome strong{color:var(--text)}
.auth-membership-card{border:1px solid var(--border,#e6e9ee);border-radius:12px;padding:14px;background:color-mix(in oklab,var(--card,#fff),#fff 4%);display:grid;gap:6px}
.auth-membership-card.success{border-color:rgba(49,208,163,.4);background:rgba(49,208,163,.08)}
.auth-membership-card.muted{border-style:dashed}
.auth-membership-card span{font-weight:600}
.auth-profile-actions{display:flex;gap:10px;flex-wrap:wrap}
.auth-profile .btn{width:auto}

.task-launch-card[aria-disabled="true"]{
  cursor:not-allowed;
  opacity:.55;
}

.task-launch-card[aria-disabled="true"]:focus-visible{
  outline-color:var(--muted,#64748b);
}

.task-locked-message{
  border:1px solid color-mix(in srgb,var(--border,#1a2147) 70%,#5af 30%);
  border-radius:14px;
  padding:1.4rem;
  margin-bottom:1.5rem;
  background:color-mix(in srgb,var(--card,#121733) 90%,#1b2b6a 10%);
  display:grid;
  gap:.75rem;
  box-shadow:0 12px 30px rgba(15,23,42,.45);
}

.task-locked-message h3{
  margin:0;
  font-size:1.05rem;
}

.task-locked-message p{
  margin:0;
  color:color-mix(in srgb,var(--muted,#94a3b8) 70%,#fff 30%);
}

.task-locked-message .btn{
  justify-self:start;
}

/* Observability panel */
.health-grid{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  margin-bottom:18px;
}
.health-card{
  border:1px solid color-mix(in srgb,var(--border,#1a2147) 70%, #5af 30%);
  border-radius:16px;
  padding:18px;
  background:color-mix(in srgb,var(--card,#121733) 92%, #18255a 8%);
  box-shadow:0 12px 28px rgba(10,18,40,.38);
  display:grid;
  gap:4px;
  transition:border-color .2s ease, box-shadow .2s ease;
}
.health-card h3{margin:0;font-size:1rem;font-weight:600;color:var(--text,#e9ecf8)}
.health-card p{margin:0;font-weight:600;font-size:1.05rem;color:var(--text,#f4f6ff)}
.health-card small{margin:0;font-size:.85rem;color:var(--muted,#94a3b8)}
.health-card[data-status="ok"]{border-color:rgba(49,208,163,.5);box-shadow:0 12px 32px rgba(49,208,163,.16)}
.health-card[data-status="degraded"]{border-color:rgba(246,183,60,.4);box-shadow:0 12px 32px rgba(246,183,60,.14)}
.health-card[data-status="error"]{border-color:rgba(255,107,107,.5);box-shadow:0 12px 32px rgba(255,107,107,.16)}

.health-actions{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  margin-bottom:18px;
}
.health-actions .btn-secondary{flex:0 0 auto;}
.health-timestamp{font-size:.85rem;color:var(--muted,#94a3b8)}

.error-log{display:grid;gap:14px;}
.error-log__header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
.error-log__actions{display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
.error-log__status{font-size:.85rem;color:var(--muted,#94a3b8);min-height:1rem;}
.error-log__table{
  width:100%;
  border-collapse:collapse;
  border:1px solid color-mix(in srgb,var(--border,#1a2147) 60%,#5af 40%);
  border-radius:18px;
  overflow:hidden;
  background:color-mix(in srgb,var(--card,#121733) 94%,#0b153d 6%);
}
.error-log__table th,
.error-log__table td{
  padding:12px 14px;
  border-bottom:1px solid color-mix(in srgb,var(--border,#1a2147) 70%,transparent 30%);
  text-align:left;
  font-size:.9rem;
}
.error-log__table th{font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:var(--muted,#94a3b8);}
.error-log__table tbody tr:last-child td{border-bottom:none;}
.error-log__table tbody tr:hover{background:rgba(90,170,255,.08);}
.error-log__empty{color:var(--muted,#94a3b8);text-align:center;}
.error-log__message{font-weight:600;}
.error-log__details{
  margin-top:6px;
  font-family:"JetBrains Mono",Consolas,monospace;
  font-size:.78rem;
  background:rgba(8,14,32,.8);
  border-radius:12px;
  padding:10px 12px;
  white-space:pre-wrap;
  word-break:break-word;
}


/* Planner scope + watchlists */
.scope-field{
  border:1px solid var(--border,#e2e8f0);
  border-radius:16px;
  padding:16px 18px;
  display:grid;
  gap:16px;
  background:rgba(37,99,235,.04);
}
.scope-field legend{
  font-weight:600;
  font-size:1rem;
  margin-bottom:4px;
}
.scope-options{
  display:grid;
  gap:18px;
}
.scope-option{
  display:grid;
  gap:10px;
  border-bottom:1px solid rgba(148,163,184,.3);
  padding-bottom:16px;
}
.scope-option:last-child{border-bottom:none;padding-bottom:0}
.scope-option__choice{
  display:flex;
  align-items:flex-start;
  gap:10px;
  font-size:.95rem;
  color:var(--text,#0f172a);
  font-weight:600;
  cursor:pointer;
}
.scope-option__choice input[type="radio"]{
  cursor:pointer;
  margin-top:2px;
  accent-color:var(--accent,#2563eb);
}
.scope-option__label{display:block;line-height:1.4}
.scope-option p{
  margin:0;
  color:var(--muted,#475569);
  font-size:.85rem;
}
.scope-option__body{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.scope-option__body select{
  flex:1 1 220px;
  min-width:200px;
}
.scope-option--custom .scope-option__body{
  flex-direction:column;
  align-items:stretch;
}
#customTickersInput{
  resize:vertical;
  min-height:72px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--border,#cbd5f5);
  font:inherit;
  background:rgba(255,255,255,.92);
  color:var(--text,#0f172a);
  width:100%;
  transition:border-color .2s ease,box-shadow .2s ease,opacity .2s ease;
}
#customTickersInput[aria-disabled="true"],
#customTickersInput:disabled{
  opacity:.6;
  pointer-events:none;
}

.watchlist-manager{
  border:1px solid var(--workspace-border,var(--border,#e2e8f0));
  border-radius:18px;
  padding:18px;
  display:grid;
  gap:18px;
  background:var(--workspace-panel-muted,rgba(15,23,42,.02));
  color:var(--workspace-text,var(--text,#0f172a));
}
.watchlist-manager[hidden]{display:none}
.watchlist-manager header h3{
  margin:0;
  font-size:1.05rem;
  font-weight:600;
}
.watchlist-manager header p{
  margin:6px 0 0;
  color:var(--workspace-muted,var(--muted,#475569));
  font-size:.9rem;
}
.watchlist-manager__forms{
  display:grid;
  gap:16px;
}
.watchlist-form{
  border:1px solid var(--workspace-accent-border,rgba(37,99,235,.2));
  border-radius:14px;
  padding:14px;
  display:grid;
  gap:12px;
  background:var(--workspace-accent-softest,rgba(37,99,235,.05));
}
.watchlist-form__actions{
  display:flex;
  align-items:center;
  gap:12px;
}
.watchlist-status{
  font-size:.85rem;
  color:var(--workspace-muted,var(--muted,#475569));
}
.field-grid{
  display:grid;
  gap:10px;
}
.field-grid label{
  display:grid;
  gap:4px;
  font-size:.85rem;
}
.field-grid input{
  height:40px;
  padding:0 10px;
  border-radius:10px;
  border:1px solid var(--workspace-border,var(--border,#cbd5f5));
  font:inherit;
  background:var(--workspace-panel,rgba(255,255,255,.92));
  color:var(--workspace-text,var(--text,#0f172a));
}
.watchlist-table-wrapper{
  border:1px solid var(--workspace-border,var(--border,#e2e8f0));
  border-radius:14px;
  overflow:hidden;
  background:var(--workspace-panel,rgba(255,255,255,.9));
}
.watchlist-table__header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 16px;
  background:var(--workspace-accent-softer,rgba(37,99,235,.08));
  color:var(--workspace-text,var(--text,#0f172a));
}
.watchlist-table__header h4{
  margin:0;
  font-size:1rem;
}
.watchlist-table{
  width:100%;
  border-collapse:collapse;
  font-size:.9rem;
  color:var(--workspace-text,var(--text,#0f172a));
  background:var(--workspace-panel,transparent);
}
.watchlist-table th,
.watchlist-table td{
  padding:10px 14px;
  border-bottom:1px solid var(--workspace-neutral-soft,rgba(148,163,184,.25));
  text-align:left;
}
.watchlist-table tbody tr:last-child td{border-bottom:none}
.watchlist-table td.muted{color:var(--workspace-muted,var(--muted,#64748b));text-align:center}
.watchlist-entry__actions{
  display:flex;
  justify-content:flex-end;
}
.watchlist-remove{
  border:none;
  background:none;
  color:var(--workspace-danger,var(--danger,#dc2626));
  font:inherit;
  cursor:pointer;
  padding:4px 6px;
  border-radius:6px;
}
.watchlist-remove:hover,
.watchlist-remove:focus-visible{
  background:var(--workspace-danger-soft,rgba(220,38,38,.12));
  text-decoration:underline;
}
.scope-field[hidden]{display:none}
/* Stage 3 scorecard enhancements */
#stage3Scorecard{display:grid;gap:1.2rem;margin-top:1.25rem}
@media (min-width:900px){#stage3Scorecard{grid-template-columns:repeat(2,minmax(0,1fr))}}
.scorecard-item{background:color-mix(in srgb,var(--card,#121733) 92%,rgba(5,12,32,.35) 8%);border:1px solid color-mix(in srgb,var(--border,#1a2147) 75%,transparent 25%);border-radius:16px;padding:1.4rem;display:flex;flex-direction:column;gap:.85rem;position:relative;overflow:hidden}
.scorecard-item[data-tone="good"]{border-color:color-mix(in srgb,var(--ok,#31d0a3) 55%,transparent 45%)}
.scorecard-item[data-tone="bad"]{border-color:color-mix(in srgb,var(--danger,#ff6b6b) 45%,transparent 55%)}
.scorecard-item h3{margin:0;font-size:1.05rem;font-weight:600}
.scorecard-item .score{font-size:2.4rem;font-weight:700;line-height:1;margin:0;color:#fff}
.scorecard-breakdown{display:flex;flex-wrap:wrap;gap:.45rem}
.scorecard-chip{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .65rem;border-radius:999px;background:color-mix(in srgb,var(--card,#121733) 75%,rgba(90,170,255,.18) 25%);font-size:.75rem;letter-spacing:.06em;text-transform:uppercase;color:color-mix(in srgb,var(--muted,#a7b0d0) 50%,#fff 50%);font-weight:600}
.factor-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.75rem}
.factor-item{display:flex;flex-direction:column;gap:.5rem;padding:.85rem;border-radius:12px;background:color-mix(in srgb,var(--card,#121733) 88%,rgba(255,255,255,.04) 12%);border:1px solid color-mix(in srgb,var(--border,#1a2147) 60%,transparent 40%)}
.factor-header{display:flex;align-items:center;justify-content:space-between;gap:.75rem}
.factor-name{font-weight:600;font-size:.95rem}
.factor-score{font-size:.95rem;font-weight:600;padding:.15rem .55rem;border-radius:999px;background:color-mix(in srgb,var(--card,#121733) 70%,rgba(255,255,255,.12) 30%);color:color-mix(in srgb,var(--muted,#a7b0d0) 35%,#fff 65%)}
.factor-meta{display:flex;flex-wrap:wrap;gap:.6rem;font-size:.78rem;color:color-mix(in srgb,var(--muted,#a7b0d0) 80%,#fff 20%)}
.factor-meta span{display:inline-flex;align-items:center;gap:.25rem}
.factor-notes{margin:0;font-size:.8rem;color:color-mix(in srgb,var(--muted,#a7b0d0) 75%,#fff 25%)}
.notification-center{margin-top:32px;padding:24px;border:1px solid var(--workspace-border,var(--border,#e2e8f0));border-radius:18px;background:var(--workspace-panel,rgba(255,255,255,.9));display:grid;gap:28px;color:var(--workspace-text,var(--text,#0f172a))}
.notification-center__intro h3{margin:0;font-size:1.4rem}
.notification-center__intro p{margin:6px 0 0;color:var(--workspace-muted,var(--muted,#475569));max-width:640px}
.notification-form fieldset{border:1px solid var(--workspace-neutral-soft,rgba(148,163,184,.3));border-radius:16px;padding:18px 20px;background:var(--workspace-panel-muted,rgba(15,23,42,.03))}
.notification-form legend{font-weight:600;padding:0 8px}
.notification-form__grid{display:grid;gap:16px}
@media (min-width:900px){.notification-form__grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
.notification-form__grid label{display:grid;gap:6px;font-size:.85rem}
.notification-form__grid input,.notification-form__grid select{height:42px;padding:0 12px;border-radius:12px;border:1px solid var(--workspace-border,var(--border,#cbd5f5));background:var(--workspace-panel,#fff);color:var(--workspace-text,var(--text,#0f172a));font:inherit}
.notification-form__conviction{display:flex;flex-wrap:wrap;gap:12px;align-items:center;padding:12px 16px;border-radius:12px;border:1px solid var(--workspace-neutral-soft,rgba(148,163,184,.35));background:var(--workspace-panel,rgba(255,255,255,.7))}
.notification-form__conviction legend{font-weight:600;font-size:.85rem;margin-right:12px}
.notification-checkbox{display:flex;align-items:center;gap:6px;font-size:.85rem}
.notification-checkbox input{width:18px;height:18px}
.notification-form__actions{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-top:16px}
.notification-form__status{font-size:.85rem;color:var(--workspace-muted,var(--muted,#475569))}
.notification-center__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.notification-center__header h4{margin:0;font-size:1.1rem}
.notification-table{width:100%;border-collapse:collapse;border:1px solid var(--workspace-border,var(--border,#e2e8f0));border-radius:14px;overflow:hidden;background:var(--workspace-panel,transparent);color:var(--workspace-text,var(--text,#0f172a))}
.notification-table th,.notification-table td{padding:12px 14px;border-bottom:1px solid var(--workspace-neutral-soft,rgba(148,163,184,.25));text-align:left;font-size:.9rem}
.notification-table thead th{background:var(--workspace-neutral-tint,rgba(15,23,42,.05));font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--workspace-muted,var(--muted,#475569))}
.notification-table tbody tr:last-child td{border-bottom:none}
.notification-empty{padding:18px;text-align:center;color:var(--workspace-muted,var(--muted,#64748b));font-size:.9rem}
.notification-actions{text-align:right;width:140px}
.notification-action{border:none;background:none;color:var(--workspace-accent,var(--accent,#2563eb));font:inherit;cursor:pointer;padding:4px 6px;border-radius:6px}
.notification-action:hover,.notification-action:focus-visible{text-decoration:underline;background:var(--workspace-accent-softer,rgba(37,99,235,.08))}
.notification-action.danger{color:var(--workspace-danger,var(--danger,#dc2626))}
.notification-action.danger:hover,.notification-action.danger:focus-visible{background:var(--workspace-danger-soft,rgba(220,38,38,.12))}
.notification-status-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.06em}
.notification-status-badge[data-state="sent"]{background:var(--workspace-success-soft,rgba(34,197,94,.12));color:var(--workspace-success-strong,var(--ok,#166534))}
.notification-status-badge[data-state="pending"]{background:var(--workspace-accent-soft,rgba(59,130,246,.12));color:var(--workspace-accent-strong,var(--accent,#1d4ed8))}
.notification-status-badge[data-state="failed"]{background:var(--workspace-danger-soft,rgba(220,38,38,.12));color:var(--workspace-danger-strong,var(--danger,#b91c1c))}
.notification-conviction{font-weight:600}
.notification-center__events h4{margin:0 0 12px;font-size:1.1rem}
.notification-datetime{font-size:.85rem;color:var(--workspace-muted,var(--muted,#475569))}
